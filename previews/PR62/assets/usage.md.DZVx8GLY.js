import{_ as a,o as t,c as i,aA as n}from"./chunks/framework.zHUlu4gM.js";const p=JSON.parse('{"title":"","description":"","frontmatter":{},"headers":[],"relativePath":"usage.md","filePath":"usage.md","lastUpdated":null}'),o={name:"usage.md"};function s(r,e,l,d,h,u){return t(),i("div",null,[...e[0]||(e[0]=[n(`<h2 id="Setting-Hardware-Configuration" tabindex="-1">Setting Hardware Configuration <a class="header-anchor" href="#Setting-Hardware-Configuration" aria-label="Permalink to &quot;Setting Hardware Configuration {#Setting-Hardware-Configuration}&quot;">​</a></h2><p>There is no programatic way to set the hardware configuration used by Legate (as of 26.01). By default, the hardware configuration is set automatically by Legate. This configuration can be manipulated through the following environment variables:</p><ul><li><p><code>LEGATE_SHOW_CONFIG</code> : When set to 1, the Legate config is printed to stdout</p></li><li><p><code>LEGATE_AUTO_CONFIG</code>: When set to 1, Legate will automatically choose the hardware configuration</p></li><li><p><code>LEGATE_CONFIG</code>: A string representing the hardware configuration to set</p></li></ul><p>These variables must be set before launching the Julia instance running Legate.jl and/or cuNumeric.jl. We recommend setting <code>export LEGATE_SHOW_CONFIG=1</code> so that the hardware configuration will be printed when Legate starts. This output is automatically captured and relayed to the user.</p><p>To manually set the hardware configuration, <code>export LEGATE_AUTO_CONFIG=0</code>, and then define your own config with something like <code>export LEGATE_CONFIG=&quot;--gpus 1 --cpus 10 --ompthreads 10&quot;</code>. We recommend using the default memory configuration for your machine and only settings the <code>gpus</code>, <code>cpus</code> and <code>ompthreads</code>. More details about the Legate configuration can be found in the <a href="https://docs.nvidia.com/legate/latest/usage.html#resource-allocation" target="_blank" rel="noreferrer">NVIDIA Legate documentation</a>. If you know where Legate is installed on your computer you can also run <code>legate --help</code> for more detailed information.</p><h2 id="Container-Build-Environments" tabindex="-1">Container Build Environments <a class="header-anchor" href="#Container-Build-Environments" aria-label="Permalink to &quot;Container Build Environments {#Container-Build-Environments}&quot;">​</a></h2><p>You can enable CUDA-enabled execution even if there’s no GPU available by telling CUDA.jl to set the runtime version. This is enough for the package to pick the CUDA-enabled versions of the JLLs, which can be useful in container build environments.</p><div class="language-bash vp-adaptive-theme"><button title="Copy Code" class="copy"></button><span class="lang">bash</span><pre class="shiki shiki-themes github-light github-dark vp-code" tabindex="0"><code><span class="line"><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">  export</span><span style="--shiki-light:#24292E;--shiki-dark:#E1E4E8;"> CUDA_VERSION_MAJOR_MINOR</span><span style="--shiki-light:#D73A49;--shiki-dark:#F97583;">=</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;">13.0</span></span>
<span class="line"><span style="--shiki-light:#6F42C1;--shiki-dark:#B392F0;">  julia</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> --project=[yourenv]</span><span style="--shiki-light:#005CC5;--shiki-dark:#79B8FF;"> -e</span><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;"> &#39;using Pkg; \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    Pkg.add(&quot;CUDA&quot;); using CUDA; CUDA.set_runtime_version!(VersionNumber(ENV[&quot;CUDA_VERSION_MAJOR_MINOR&quot;])) \\</span></span>
<span class="line"><span style="--shiki-light:#032F62;--shiki-dark:#9ECBFF;">    CUDA.precompile_runtime()&#39;</span></span></code></pre></div><p>Note: Currently in Legate.jl, only CUDA versions ≥ 13.0 are supported.</p>`,9)])])}const g=a(o,[["render",s]]);export{p as __pageData,g as default};
